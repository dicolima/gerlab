<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GerLab - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="header bg-primary text-white p-3">
        <div class="container d-flex justify-content-between align-items-center">
            <h1 class="h3 mb-0">GerLab - Dashboard</h1>
            <div class="user-info">
                <span id="user-greeting" class="me-3">Bem-vindo, Carregando...</span>
                <button class="btn btn-light btn-sm" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Sair</button>
            </div>
        </div>
    </header>
    <main class="container my-5">
        <h2 class="text-center mb-4">Escolha uma Opção</h2>
        <div class="row g-4 justify-content-center">
            <div class="col-md-4">
                <a href="/usuarios.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-users fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Usuários</h3>
                    <p class="text-muted">Crie, edite e gerencie usuários do sistema.</p>
                </a>
            </div>
            <!-- Removido o link para /solicitacoes_admin.html -->
            <!-- Mantidos os links abaixo, mas podem ser removidos se as entidades não forem necessárias -->
            <div class="col-md-4">
                <a href="/predios.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-building fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Prédios</h3>
                    <p class="text-muted">Crie, edite e gerencie prédios do sistema.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/laboratorios.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-flask fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Laboratórios</h3>
                    <p class="text-muted">Crie, edite e gerencie laboratórios do sistema.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/professores.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-chalkboard-teacher fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Professores</h3>
                    <p class="text-muted">Crie, edite e gerencie professores do sistema.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/faculdades.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-university fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Faculdades</h3>
                    <p class="text-muted">Crie, edite e gerencie faculdades do sistema.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/disciplinas.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-book fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Disciplinas</h3>
                    <p class="text-muted">Crie, edite e gerencie disciplinas do sistema.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/programas.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-code fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Programas</h3>
                    <p class="text-muted">Crie, edite e gerencie programas do sistema.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/professor_disciplina.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-link fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Vínculos Professor-Disciplina</h3>
                    <p class="text-muted">Crie, edite e gerencie vínculos entre professores e disciplinas.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/laboratorio_programa.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-link fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Vínculos Laboratórios-Programas</h3>
                    <p class="text-muted">Crie, edite e gerencie vínculos entre laboratórios e programas.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/solicitacoes.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-calendar fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Solicitações de Agendamento</h3>
                    <p class="text-muted">Crie, edite e gerencie solicitações de laboratórios.</p>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/aprovacoes.html" class="card shadow-sm p-4 text-center text-decoration-none">
                    <i class="fas fa-check fa-3x mb-3 text-primary"></i>
                    <h3 class="h5 fw-medium">Gerenciar Aprovações de Solicitações</h3>
                    <p class="text-muted">Aprove ou delete solicitações pendentes de laboratórios.</p>
                </a>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Carregar nome do usuário
        fetch('/api/usuarios/user', {
            method: 'GET',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include'
        })
            .then(response => {
                if (!response.ok) {
                    window.location.href = '/login';
                    throw new Error('Não autenticado');
                }
                return response.json();
            })
            .then(data => {
                document.getElementById('user-greeting').textContent = `Bem-vindo, ${data.usr_nom}`;
            })
            .catch(error => {
                console.error('Erro ao carregar usuário:', error);
                window.location.href = '/login';
            });

        // Função de logout
        function logout() {
            fetch('/api/usuarios/logout', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                credentials: 'include'
            })
                .then(() => {
                    window.location.href = '/login';
                })
                .catch(error => {
                    console.error('Erro ao fazer logout:', error);
                    window.location.href = '/login';
                });
        }
    </script>
</body>
</html>